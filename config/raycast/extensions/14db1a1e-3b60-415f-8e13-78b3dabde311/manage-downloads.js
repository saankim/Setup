"use strict";var D=Object.create;var a=Object.defineProperty;var L=Object.getOwnPropertyDescriptor;var P=Object.getOwnPropertyNames;var w=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty;var T=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),F=(t,e)=>{for(var i in e)a(t,i,{get:e[i],enumerable:!0})},p=(t,e,i,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of P(e))!x.call(t,s)&&s!==i&&a(t,s,{get:()=>e[s],enumerable:!(o=L(e,s))||o.enumerable});return t};var M=(t,e,i)=>(i=t!=null?D(w(t)):{},p(e||!t||!t.__esModule?a(i,"default",{value:t,enumerable:!0}):i,t)),I=t=>p(a({},"__esModule",{value:!0}),t);var h=T((V,d)=>{"use strict";var E=require("os"),m=E.homedir();d.exports=t=>{if(typeof t!="string")throw new TypeError(`Expected a string, got ${typeof t}`);return m?t.replace(/^~(?=$|\/|\\)/,m):t}});var $={};F($,{default:()=>S});module.exports=I($);var r=require("@raycast/api"),k=require("react");var u=require("@raycast/api"),l=require("fs"),y=require("path"),g=M(h()),O=(0,u.getPreferenceValues)(),c=(0,g.default)(O.downloadsFolder??"~/Downloads");function A(){return(0,l.readdirSync)(c).filter(e=>!e.startsWith(".")).map(e=>{let i=(0,y.join)(c,e),o=(0,l.statSync)(i).mtime;return{file:e,path:i,lastModifiedAt:o}}).sort((e,i)=>i.lastModifiedAt.getTime()-e.lastModifiedAt.getTime())}var n=require("react/jsx-runtime");function S(){let[t,e]=(0,k.useState)(A());function i(o){e(s=>s.filter(f=>Array.isArray(o)?!o.includes(f.path):o!==f.path))}return(0,n.jsxs)(r.List,{children:[t.length===0&&(0,n.jsx)(r.List.EmptyView,{icon:{fileIcon:c},title:"No downloads found",description:"Well, first download some files \xAF\\_(\u30C4)_/\xAF"}),t.map(o=>(0,n.jsx)(r.List.Item,{title:o.file,icon:{fileIcon:o.path},quickLook:{path:o.path,name:o.file},accessories:[{date:o.lastModifiedAt,tooltip:`Last modified: ${o.lastModifiedAt.toLocaleString()}`}],actions:(0,n.jsxs)(r.ActionPanel,{children:[(0,n.jsxs)(r.ActionPanel.Section,{children:[(0,n.jsx)(r.Action.Open,{title:"Open File",target:o.path}),(0,n.jsx)(r.Action.ShowInFinder,{path:o.path})]}),(0,n.jsxs)(r.ActionPanel.Section,{children:[(0,n.jsx)(r.Action.OpenWith,{path:o.path,shortcut:{modifiers:["cmd"],key:"o"}}),(0,n.jsx)(r.Action.ToggleQuickLook,{shortcut:{modifiers:["cmd"],key:"y"}})]}),(0,n.jsxs)(r.ActionPanel.Section,{children:[(0,n.jsx)(r.Action.Trash,{title:"Delete Download",paths:o.path,shortcut:{modifiers:["ctrl"],key:"x"},onTrash:i}),(0,n.jsx)(r.Action.Trash,{title:"Delete All Downloads",paths:t.map(s=>s.path),shortcut:{modifiers:["ctrl","shift"],key:"x"},onTrash:i})]})]})},o.path))]})}0&&(module.exports={});
